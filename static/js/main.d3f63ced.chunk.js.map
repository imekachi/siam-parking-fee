{"version":3,"sources":["utils.js","operations/fee.js","config/colors.js","config/parking.js","config/chart.js","components/App.js","serviceWorker.js","index.js"],"names":["getDurationHrs","dateStart","dateEnd","arguments","length","undefined","Date","Math","abs","calculateFee","feeRates","value","parkedHrs","constructor","name","TypeError","concat","JSON","stringify","totalCost","hrsLeft","some","rate","index","costByRate","ceil","hrs","cost","max","storage","key","store","data","localStorage","setItem","this","getData","rawData","getItem","parsedData","parse","Object","objectSpread","start","reset","removeItem","COLORS","RED","ORANGE","YELLOW","GREEN","TEAL","BLUE","PURPLE","GRAY","GRID","parkingInfo","MBK","color","CTW","SIAM_CEN","OVERVIEW_HOURS_ARRAY","Array","from","unused","feeOverview","values","map","parking","label","hours","borderColor","backgroundColor","fill","chartData","labels","hour","datasets","chartOptions","maintainAspectRatio","tooltips","mode","intersect","itemSort","a","b","yLabel","hover","legend","position","boxWidth","padding","usePointStyle","scales","yAxes","gridLines","zeroLineColor","ticks","beginAtZero","xAxes","window","App","_useState","useState","_useState2","slicedToArray","park","setPark","useEffect","_storage$getData","parkId","currentDuration","parkInfo","durationHrs","fee","react_default","createElement","className","es","options","height","Fragment","style","toLocaleString","currency","onClick","startTime","currentFee","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","components_App","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"4LAkBO,SAASA,EAAeC,GAAiC,IAAtBC,EAAsBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,IAAIG,KAGtD,OAFyBC,KAAKC,IAAIN,EAAUD,GAElB,IAAO,GAAK,GCbjC,SAASQ,EAAaC,GAAyB,IDF9BC,ECEeC,EAAeT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EACjD,KDHsBQ,ECGTD,IDFsB,kBAAVC,GAAiD,UAA3BA,EAAME,YAAYC,KCG/D,MAAM,IAAIC,UAAJ,4FAAAC,OACwFC,KAAKC,UAC/FR,KAMN,IAAIS,EAAY,EACZC,EAAUR,EA+Bd,OA5BAF,EAASW,KAAK,SAACC,EAAMC,GAEnB,GAAIH,GAAW,EAAG,OAAO,EAIzB,GAAIG,IAAUb,EAASN,OAAS,EAAG,CAGjC,IACMoB,EADYjB,KAAKkB,KAAKL,EAAUE,EAAKI,KACZJ,EAAKK,KAMpC,OALAR,GAAaK,EACbJ,EAAU,GAIH,EAST,OALAD,GAAaG,EAAKK,KAElBP,EAAUb,KAAKqB,IAAIR,EAAUE,EAAKI,IAAK,IAGhC,IAGFP,EAGF,IAAMU,EAAU,CACrBC,IAAK,qBACLC,MAAO,SAASC,GACdC,aAAaC,QAAQC,KAAKL,IAAKb,KAAKC,UAAUc,KAEhDI,QAAS,WACP,IAAMC,EAAUJ,aAAaK,QAAQH,KAAKL,KAC1C,IAAKO,EAAS,MAAO,GAErB,IAAME,EAAatB,KAAKuB,MAAMH,GAE9B,OAAOI,OAAAC,EAAA,EAAAD,CAAA,GACFF,EADL,CAEEI,MAAO,IAAIrC,KAAKiC,EAAWI,UAG/BC,MAAO,WACLX,aAAaY,WAAWV,KAAKL,OC1DlBgB,EAZA,CACbC,IAAK,UACLC,OAAQ,UACRC,OAAQ,UACRC,MAAO,UACPC,KAAM,UACNC,KAAM,UACNC,OAAQ,UACRC,KAAM,UACNC,KAAM,4BCPKC,EAAc,CACzBC,IAAK,CACH3C,KAAM,MACN4C,MAAOZ,EAAOC,IACdrC,SAAU,CAAC,CAAEgB,IAAK,EAAGC,KAAM,IAAM,CAAED,IAAK,EAAGC,KAAM,MAEnDgC,IAAK,CACH7C,KAAM,MACN4C,MAAOZ,EAAOM,KACd1C,SAAU,CAAC,CAAEgB,IAAK,EAAGC,KAAM,IAAM,CAAED,IAAK,EAAGC,KAAM,MAEnDiC,SAAU,CACR9C,KAAM,cACN4C,MAAOZ,EAAOI,MACdxC,SAAU,CAAC,CAAEgB,IAAK,EAAGC,KAAM,IAAM,CAAED,IAAK,EAAGC,KAAM,OCVxCkC,EAAuBC,MAAMC,KAExC,CAAE3D,OAJuB,GAOzB,SAAC4D,EAAQzC,GAAT,OAAmBA,EAAQ,IAOhB0C,EAAcxB,OAAOyB,OAAOV,GAAaW,IAAI,SAAAC,GACxD,MAAO,CACLC,MAAOD,EAAQtD,KACfkB,KAAM6B,EAAqBM,IAAI,SAAAG,GAAK,OAAI7D,EAAa2D,EAAQ1D,SAAU4D,KACvEC,YAAaH,EAAQV,MACrBc,gBAAiBJ,EAAQV,MACzBe,MAAM,KAIGC,EAAY,CACvBC,OAAQd,EAAqBM,IAAI,SAAAS,GAAI,SAAA5D,OAAO4D,EAAP,OAAA5D,OAAiB4D,EAAO,EAAI,IAAM,MACvEC,SAAUZ,GAGCa,EAAe,CAC1BC,qBAAqB,EACrBC,SAAU,CAERC,KAAM,QACNC,WAAW,EAEXC,SAAU,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,OAASD,EAAEC,SAEnCC,MAAO,CACLN,KAAM,UACNC,WAAW,GAEbM,OAAQ,CACNC,SAAU,SACVd,OAAQ,CACNe,SAAU,EACVC,QAAS,GACTC,eAAe,IAGnBC,OAAQ,CACNC,MAAO,CACL,CACEC,UAAW,CACTrC,MAAOZ,EAAOS,KACdyC,cAAelD,EAAOS,MAExB0C,MAAO,CACLC,aAAa,KAInBC,MAAO,CACL,CACEJ,UAAW,CACTrC,MAAOZ,EAAOS,iBC5DxB6C,OAAOpG,eAAiBA,EA6FTqG,MA3Ff,WAAe,IAAAC,EACWC,mBAAS,MADpBC,EAAA/D,OAAAgE,EAAA,EAAAhE,CAAA6D,EAAA,GACNI,EADMF,EAAA,GACAG,EADAH,EAAA,GA2Cb,OAhBAI,oBAAU,WAAM,IAAAC,EACYhF,EAAQO,UAA1BO,EADMkE,EACNlE,MAAOmE,EADDD,EACCC,OACf,GAAKnE,EAAL,CAEA,IAAMoE,EAAkB/G,EAAe2C,GACjCqE,EAAWxD,EAAYsD,GAE7BH,EAAQ,CACNhE,QACA7B,KAAMkG,EAASlG,KACf4C,MAAOsD,EAAStD,MAChBuD,YAAaF,EACbG,IAAKzG,EAAauG,EAAStG,SAAUqG,OAEtC,IAGDI,EAAA/B,EAAAgC,cAAA,OAAKC,UAAU,OACbF,EAAA/B,EAAAgC,cAAA,MAAIC,UAAU,UAAd,oBACAF,EAAA/B,EAAAgC,cAAA,OAAKC,UAAU,mBACbF,EAAA/B,EAAAgC,cAACE,EAAA,EAAD,CAAMtF,KAAM0C,EAAW6C,QAASzC,EAAc0C,OAAQ,OAEvDd,EACCS,EAAA/B,EAAAgC,cAAAD,EAAA/B,EAAAqC,SAAA,KACEN,EAAA/B,EAAAgC,cAAA,OAAKC,UAAU,0BACbF,EAAA/B,EAAAgC,cAAA,MAAIC,UAAU,aAAaK,MAAO,CAAEhE,MAAOgD,EAAKhD,QAC7CgD,EAAK5F,MAERqG,EAAA/B,EAAAgC,cAAA,OAAKC,UAAU,oBACbF,EAAA/B,EAAAgC,cAAA,QAAMC,UAAU,SAAhB,aAAyC,IACzCF,EAAA/B,EAAAgC,cAAA,cAASV,EAAK/D,MAAMgF,mBAEtBR,EAAA/B,EAAAgC,cAAA,OAAKC,UAAU,uBACbF,EAAA/B,EAAAgC,cAAA,QAAMC,UAAU,SAAhB,aAAyC,IACzCF,EAAA/B,EAAAgC,cAAA,cAASV,EAAKO,YAAYU,iBAA1B,SAEFR,EAAA/B,EAAAgC,cAAA,OAAKC,UAAU,kBACbF,EAAA/B,EAAAgC,cAAA,QAAMC,UAAU,SAAhB,WACAF,EAAA/B,EAAAgC,cAAA,QAAMC,UAAU,MAAMK,MAAO,CAAEhE,MAAOZ,EAAOI,QAC1CwD,EAAKQ,IAAIS,eAAe,QAAS,CAAED,MAAO,WAAYE,SAAU,WAIvET,EAAA/B,EAAAgC,cAAA,UACEC,UAAU,kBACVK,MAAO,CAAElD,gBAAiB1B,EAAOG,QACjC4E,QAnDW,WACnBhG,EAAQe,QACR+D,EAAQ,QAmDAQ,EAAA/B,EAAAgC,cAAA,KAAGC,UAAU,kBAAb,UALF,UASFF,EAAA/B,EAAAgC,cAAA,UACEC,UAAU,kBACVK,MAAO,CAAElD,gBAAiB1B,EAAOO,QACjCwE,QA/EY,WAElB,IAAMC,EAAY,IAAIxH,KAEtBuB,EAAQE,MAAM,CAAEY,MAAOmF,EAAWhB,OAAQ,QAE1C,IAEMiB,EAAatH,EAAa+C,EAAYC,IAAI/C,SAFxB,MAIxBiG,EAAQ,CACNhE,MAAOmF,EACPhH,KAAM0C,EAAYC,IAAI3C,KACtB4C,MAAOF,EAAYC,IAAIC,MACvBuD,YARsB,KAStBC,IAAKa,MAkEDZ,EAAA/B,EAAAgC,cAAA,KAAGC,UAAU,kBAAb,kBALF,UC9EFW,EAAcC,QACW,cAA7B7B,OAAO8B,SAASC,UAEe,UAA7B/B,OAAO8B,SAASC,UAEhB/B,OAAO8B,SAASC,SAASC,MAAM,2DAqCnC,SAASC,EAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTK,KAAK,SAAAC,GAEJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfT,UAAUC,cAAcS,YAI1BC,QAAQC,IACN,iHAKEb,GAAUA,EAAOc,UACnBd,EAAOc,SAAST,KAMlBO,QAAQC,IAAI,sCAGRb,GAAUA,EAAOe,WACnBf,EAAOe,UAAUV,UAO5BW,MAAM,SAAAC,GACLL,QAAQK,MAAM,4CAA6CA,KCzFjEC,IAASC,OAAOvC,EAAA/B,EAAAgC,cAACuC,EAAD,MAASC,SAASC,eAAe,SDc1C,SAAkBtB,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIsB,IAAIC,oBAAwB3D,OAAO8B,SAAS8B,MACpDC,SAAW7D,OAAO8B,SAAS+B,OAIvC,OAGF7D,OAAO8D,iBAAiB,OAAQ,WAC9B,IAAM5B,EAAK,GAAAtH,OAAM+I,oBAAN,sBAEP/B,GAiEV,SAAiCM,EAAOC,GAEtC4B,MAAM7B,GACHK,KAAK,SAAAyB,GAEJ,IAAMC,EAAcD,EAASE,QAAQC,IAAI,gBAEnB,MAApBH,EAASI,QACO,MAAfH,IAA8D,IAAvCA,EAAYI,QAAQ,cAG5CjC,UAAUC,cAAciC,MAAM/B,KAAK,SAAAC,GACjCA,EAAa+B,aAAahC,KAAK,WAC7BvC,OAAO8B,SAAS0C,aAKpBvC,EAAgBC,EAAOC,KAG1BgB,MAAM,WACLJ,QAAQC,IAAI,mEArFVyB,CAAwBvC,EAAOC,GAI/BC,UAAUC,cAAciC,MAAM/B,KAAK,WACjCQ,QAAQC,IACN,gHAMJf,EAAgBC,EAAOC,MCrC/BE","file":"static/js/main.d3f63ced.chunk.js","sourcesContent":["/**\n * Check if the value is an array\n *\n * @param {*} value\n * @return {boolean}\n */\nexport function isArray(value) {\n  return !!value && typeof value === 'object' && value.constructor.name === 'Array'\n}\n\n/**\n * Get duration between two date objects\n * NOTE: the duration will always be positive, which mean the arguments order won't affect the result\n *\n * @param {Date} dateStart\n * @param {Date} [dateEnd = new Date()]\n * @returns {number} duration\n */\nexport function getDurationHrs(dateStart, dateEnd = new Date()) {\n  const durationMillisec = Math.abs(dateEnd - dateStart)\n  // convert milliseconds to hours\n  return durationMillisec / 1000 / 60 / 60\n}\n","import { isArray } from '../utils'\n\n/**\n * calculate parking fee\n *\n * @param {Array.<{hrs: number, cost: number}>} feeRates\n * @param {number} [parkedHrs = 1]\n */\nexport function calculateFee(feeRates, parkedHrs = 1) {\n  if (!isArray(feeRates)) {\n    throw new TypeError(\n      `Error! \"feeRates\" argument for \"calculateFee()\" should be an array, instead it receives, ${JSON.stringify(\n        feeRates\n      )}`\n    )\n  }\n\n  // Initialize values\n  let totalCost = 0\n  let hrsLeft = parkedHrs\n\n  // use .some to break instead of forEach that cannot be stopped\n  feeRates.some((rate, index) => {\n    // Stop the loop when there is no hrsLeft\n    if (hrsLeft <= 0) return true\n\n    // if the rate is the last one,\n    // we'll use that rate for the rest of hr left.\n    if (index === feeRates.length - 1) {\n      // Most parking fee will think that fragment of an hour is full one hour,\n      // and we can achieve that by using Math.ceil\n      const hrsFactor = Math.ceil(hrsLeft / rate.hrs)\n      const costByRate = hrsFactor * rate.cost\n      totalCost += costByRate\n      hrsLeft = 0\n\n      // stop any further operation,\n      // because at this the last item and we should get our answer.\n      return true\n    }\n\n    // add cost of the rate to total cost\n    totalCost += rate.cost\n    // minus hrsLeft and make sure hrsLeft won't go below zero\n    hrsLeft = Math.max(hrsLeft - rate.hrs, 0)\n\n    // continue the loop\n    return false\n  })\n\n  return totalCost\n}\n\nexport const storage = {\n  key: 'PARKING_TIME_START',\n  store: function(data) {\n    localStorage.setItem(this.key, JSON.stringify(data))\n  },\n  getData: function() {\n    const rawData = localStorage.getItem(this.key)\n    if (!rawData) return {}\n\n    const parsedData = JSON.parse(rawData)\n\n    return {\n      ...parsedData,\n      start: new Date(parsedData.start),\n    }\n  },\n  reset: function() {\n    localStorage.removeItem(this.key)\n  },\n}\n","const COLORS = {\n  RED: '#ff4a48',\n  ORANGE: '#ff9f40',\n  YELLOW: '#ffcd56',\n  GREEN: '#7ad461',\n  TEAL: '#4bc0c0',\n  BLUE: '#36a2eb',\n  PURPLE: '#9966ff',\n  GRAY: '#c9cbcf',\n  GRID: 'rgba(255, 255, 255, 0.1)',\n}\n\nexport default COLORS\n","import COLORS from './colors'\n\nexport const parkingInfo = {\n  MBK: {\n    name: 'MBK',\n    color: COLORS.RED,\n    feeRates: [{ hrs: 2, cost: 10 }, { hrs: 1, cost: 10 }],\n  },\n  CTW: {\n    name: 'CTW',\n    color: COLORS.BLUE,\n    feeRates: [{ hrs: 4, cost: 10 }, { hrs: 1, cost: 20 }],\n  },\n  SIAM_CEN: {\n    name: 'Siam Center',\n    color: COLORS.GREEN,\n    feeRates: [{ hrs: 4, cost: 10 }, { hrs: 1, cost: 20 }],\n  },\n}\n","import { calculateFee } from '../operations/fee'\nimport COLORS from './colors'\nimport { parkingInfo } from './parking'\n\nconst MAX_OVERVIEW_HOURS = 8\n\nexport const OVERVIEW_HOURS_ARRAY = Array.from(\n  // make array-like object that have specific length property\n  { length: MAX_OVERVIEW_HOURS },\n  // map function to create the array using index + 1\n  // which will result in an array starting from 1 to array length\n  (unused, index) => index + 1\n)\n/**\n * This data shows parking fee of each place for each hour you parked\n * { placeName: [array of fee by hours of parking] }\n * @type {Object}\n */\nexport const feeOverview = Object.values(parkingInfo).map(parking => {\n  return {\n    label: parking.name,\n    data: OVERVIEW_HOURS_ARRAY.map(hours => calculateFee(parking.feeRates, hours)),\n    borderColor: parking.color,\n    backgroundColor: parking.color,\n    fill: false,\n  }\n})\n\nexport const chartData = {\n  labels: OVERVIEW_HOURS_ARRAY.map(hour => `${hour} hr${hour > 1 ? 's' : ''}`),\n  datasets: feeOverview,\n}\n\nexport const chartOptions = {\n  maintainAspectRatio: false,\n  tooltips: {\n    // show all parking fee at the hour\n    mode: 'index',\n    intersect: false,\n    // put cheaper parking to be displayed first\n    itemSort: (a, b) => a.yLabel - b.yLabel,\n  },\n  hover: {\n    mode: 'nearest',\n    intersect: true,\n  },\n  legend: {\n    position: 'bottom',\n    labels: {\n      boxWidth: 5,\n      padding: 20,\n      usePointStyle: true,\n    },\n  },\n  scales: {\n    yAxes: [\n      {\n        gridLines: {\n          color: COLORS.GRID,\n          zeroLineColor: COLORS.GRID,\n        },\n        ticks: {\n          beginAtZero: true,\n        },\n      },\n    ],\n    xAxes: [\n      {\n        gridLines: {\n          color: COLORS.GRID,\n        },\n      },\n    ],\n  },\n}\n","import React, { useState, useEffect } from 'react'\nimport { Line } from 'react-chartjs-2'\nimport { chartData, chartOptions } from '../config/chart'\nimport './App.css'\nimport COLORS from '../config/colors'\nimport { parkingInfo } from '../config/parking'\nimport { calculateFee, storage } from '../operations/fee'\nimport { getDurationHrs } from '../utils'\n\nwindow.getDurationHrs = getDurationHrs\n\nfunction App() {\n  const [park, setPark] = useState(null)\n\n  const onClickPark = () => {\n    // create current date obj\n    const startTime = new Date()\n    // store it to storage\n    storage.store({ start: startTime, parkId: 'MBK' })\n    // initialize currentDuration\n    const currentDuration = 0.001\n    // initialize currentFee\n    const currentFee = calculateFee(parkingInfo.MBK.feeRates, currentDuration)\n\n    setPark({\n      start: startTime,\n      name: parkingInfo.MBK.name,\n      color: parkingInfo.MBK.color,\n      durationHrs: currentDuration,\n      fee: currentFee,\n    })\n  }\n\n  const onClickReset = () => {\n    storage.reset()\n    setPark(null)\n  }\n\n  useEffect(() => {\n    const { start, parkId } = storage.getData()\n    if (!start) return\n\n    const currentDuration = getDurationHrs(start)\n    const parkInfo = parkingInfo[parkId]\n\n    setPark({\n      start,\n      name: parkInfo.name,\n      color: parkInfo.color,\n      durationHrs: currentDuration,\n      fee: calculateFee(parkInfo.feeRates, currentDuration),\n    })\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"header\">Bike parking fee</h1>\n      <div className=\"chart-container\">\n        <Line data={chartData} options={chartOptions} height={280} />\n      </div>\n      {park ? (\n        <>\n          <div className=\"parking-info-container\">\n            <h2 className=\"parking-at\" style={{ color: park.color }}>\n              {park.name}\n            </h2>\n            <div className=\"park-info -start\">\n              <span className=\"label\">Check-in:</span>{' '}\n              <strong>{park.start.toLocaleString()}</strong>\n            </div>\n            <div className=\"park-info -duration\">\n              <span className=\"label\">Duration:</span>{' '}\n              <strong>{park.durationHrs.toLocaleString()} hrs</strong>\n            </div>\n            <div className=\"park-info -fee\">\n              <span className=\"label\">Total: </span>\n              <span className=\"fee\" style={{ color: COLORS.GREEN }}>\n                {park.fee.toLocaleString('en-TH', { style: 'currency', currency: 'THB' })}\n              </span>\n            </div>\n          </div>\n          <button\n            className=\"floating-button\"\n            style={{ backgroundColor: COLORS.YELLOW }}\n            onClick={onClickReset}\n          >\n            <i className=\"material-icons\">delete</i>Reset\n          </button>\n        </>\n      ) : (\n        <button\n          className=\"floating-button\"\n          style={{ backgroundColor: COLORS.PURPLE }}\n          onClick={onClickPark}\n        >\n          <i className=\"material-icons\">directions_car</i>Park\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      // eslint-disable-next-line no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register()\n"],"sourceRoot":""}